if(!window.location.search||-1===window.location.search.indexOf("ignore_check")){var support=window.Map&&window.WeakMap;support||(window.location="error.html")}var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(STARTS_WITH),"String",{startsWith:function(e){var t=context(this,e,STARTS_WITH),r=toLength(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return $startsWith?$startsWith.call(t,n,r):t.slice(r,r+n.length)===n}});var $export$1=require("./_export"),toAbsoluteIndex=require("./_to-absolute-index"),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export$1($export$1.S+$export$1.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,o=0;n>o;){if(t=+arguments[o++],toAbsoluteIndex(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?fromCharCode(t):fromCharCode(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}});var ctx=require("./_ctx"),$export$2=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength$1=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export$2($export$2.S+$export$2.F*!require("./_iter-detect")(function(e){}),"Array",{from:function(e){var t,r,n,o,i=toObject(e),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,c=void 0!==u,l=0,d=getIterFn(i);if(c&&(u=ctx(u,s>2?arguments[2]:void 0,2)),null==d||a==Array&&isArrayIter(d))for(r=new a(t=toLength$1(i.length));t>l;l++)createProperty(r,l,c?u(i[l],l):i[l]);else for(o=d.call(i),r=new a;!(n=o.next()).done;l++)createProperty(r,l,c?call(o,u,[n.value,l],!0):n.value);return r.length=l,r}});var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=require("./_library"),global=require("./_global"),ctx$1=require("./_ctx"),classof=require("./_classof"),$export$3=require("./_export"),isObject=require("./_is-object"),aFunction=require("./_a-function"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),speciesConstructor=require("./_species-constructor"),task=require("./_task").set,microtask=require("./_microtask")(),newPromiseCapabilityModule=require("./_new-promise-capability"),perform=require("./_perform"),userAgent=require("./_user-agent"),promiseResolve=require("./_promise-resolve"),PROMISE="Promise",TypeError$1=global.TypeError,process=global.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global[PROMISE],isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var e=$Promise.resolve(1),t=(e.constructor={})[require("./_wks")("species")]=function(e){e(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&e.then(empty)instanceof t&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(e){var t;return!(!isObject(e)||"function"!=typeof(t=e.then))&&t},notify=function(e,t){if(!e._n){e._n=!0;var r=e._c;microtask(function(){for(var n=e._v,o=1==e._s,i=0,a=function(t){var r,i,a,s=o?t.ok:t.fail,u=t.resolve,c=t.reject,l=t.domain;try{s?(o||(2==e._h&&onHandleUnhandled(e),e._h=1),!0===s?r=n:(l&&l.enter(),r=s(n),l&&(l.exit(),a=!0)),r===t.promise?c(TypeError$1("Promise-chain cycle")):(i=isThenable(r))?i.call(r,u,c):u(r)):c(n)}catch(e){l&&!a&&l.exit(),c(e)}};r.length>i;)a(r[i++]);e._c=[],e._n=!1,t&&!e._h&&onUnhandled(e)})}},onUnhandled=function(e){task.call(global,function(){var t,r,n,o=e._v,i=isUnhandled(e);if(i&&(t=perform(function(){isNode?process.emit("unhandledRejection",o,e):(r=global.onunhandledrejection)?r({promise:e,reason:o}):(n=global.console)&&n.error&&n.error("Unhandled promise rejection",o)}),e._h=isNode||isUnhandled(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},isUnhandled=function(e){return 1!==e._h&&0===(e._a||e._c).length},onHandleUnhandled=function(e){task.call(global,function(){var t;isNode?process.emit("rejectionHandled",e):(t=global.onrejectionhandled)&&t({promise:e,reason:e._v})})},$reject=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),notify(t,!0))},$resolve=function e(t){var r,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw TypeError$1("Promise can't be resolved itself");(r=isThenable(t))?microtask(function(){var o={_w:n,_d:!1};try{r.call(t,ctx$1(e,o,1),ctx$1($reject,o,1))}catch(e){$reject.call(o,e)}}):(n._v=t,n._s=1,notify(n,!1))}catch(e){$reject.call({_w:n,_d:!1},e)}}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var i=e.apply(t,r);function a(e){asyncGeneratorStep(i,n,o,a,s,"next",e)}function s(e){asyncGeneratorStep(i,n,o,a,s,"throw",e)}a(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}USE_NATIVE||($Promise=function(e){anInstance(this,$Promise,PROMISE,"_h"),aFunction(e),Internal.call(this);try{e(ctx$1($resolve,this,1),ctx$1($reject,this,1))}catch(e){$reject.call(this,e)}},(Internal=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=require("./_redefine-all")($Promise.prototype,{then:function(e,t){var r=newPromiseCapability(speciesConstructor(this,$Promise));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=isNode?process.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&notify(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),OwnPromiseCapability=function(){var e=new Internal;this.promise=e,this.resolve=ctx$1($resolve,e,1),this.reject=ctx$1($reject,e,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(e){return e===$Promise||e===Wrapper?new OwnPromiseCapability(e):newGenericPromiseCapability(e)}),$export$3($export$3.G+$export$3.W+$export$3.F*!USE_NATIVE,{Promise:$Promise}),require("./_set-to-string-tag")($Promise,PROMISE),require("./_set-species")(PROMISE),Wrapper=require("./_core")[PROMISE],$export$3($export$3.S+$export$3.F*!USE_NATIVE,PROMISE,{reject:function(e){var t=newPromiseCapability(this);return(0,t.reject)(e),t.promise}}),$export$3($export$3.S+$export$3.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(e){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,e)}}),$export$3($export$3.S+$export$3.F*!(USE_NATIVE&&require("./_iter-detect")(function(e){$Promise.all(e).catch(empty)})),PROMISE,{all:function(e){var t=this,r=newPromiseCapability(t),n=r.resolve,o=r.reject,i=perform(function(){var r=[],i=0,a=1;forOf(e,!1,function(e){var s=i++,u=!1;r.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--a||n(r))},o)}),--a||n(r)});return i.e&&o(i.v),r.promise},race:function(e){var t=this,r=newPromiseCapability(t),n=r.reject,o=perform(function(){forOf(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return o.e&&n(o.v),r.promise}});var global$1=require("./_global"),has=require("./_has"),DESCRIPTORS=require("./_descriptors"),$export$4=require("./_export"),redefine=require("./_redefine"),META=require("./_meta").KEY,$fails=require("./_fails"),shared=require("./_shared"),setToStringTag=require("./_set-to-string-tag"),uid=require("./_uid"),wks=require("./_wks"),wksExt=require("./_wks-ext"),wksDefine=require("./_wks-define"),enumKeys=require("./_enum-keys"),isArray=require("./_is-array"),anObject=require("./_an-object"),isObject$1=require("./_is-object"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),createDesc=require("./_property-desc"),_create=require("./_object-create"),gOPNExt=require("./_object-gopn-ext"),$GOPD=require("./_object-gopd"),$DP=require("./_object-dp"),$keys=require("./_object-keys"),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global$1.Symbol,$JSON=global$1.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE$1="function"==typeof $Symbol,QObject=global$1.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=gOPD(ObjectProto,t);n&&delete ObjectProto[t],dP(e,t,r),n&&e!==ObjectProto&&dP(ObjectProto,t,n)}:dP,wrap=function(e){var t=AllSymbols[e]=_create($Symbol[PROTOTYPE]);return t._k=e,t},isSymbol=USE_NATIVE$1&&"symbol"==_typeof($Symbol.iterator)?function(e){return"symbol"==_typeof(e)}:function(e){return e instanceof $Symbol},$defineProperty=function(e,t,r){return e===ObjectProto&&$defineProperty(OPSymbols,t,r),anObject(e),t=toPrimitive(t,!0),anObject(r),has(AllSymbols,t)?(r.enumerable?(has(e,HIDDEN)&&e[HIDDEN][t]&&(e[HIDDEN][t]=!1),r=_create(r,{enumerable:createDesc(0,!1)})):(has(e,HIDDEN)||dP(e,HIDDEN,createDesc(1,{})),e[HIDDEN][t]=!0),setSymbolDesc(e,t,r)):dP(e,t,r)},$defineProperties=function(e,t){anObject(e);for(var r,n=enumKeys(t=toIObject(t)),o=0,i=n.length;i>o;)$defineProperty(e,r=n[o++],t[r]);return e},$create=function(e,t){return void 0===t?_create(e):$defineProperties(_create(e),t)},$propertyIsEnumerable=function(e){var t=isEnum.call(this,e=toPrimitive(e,!0));return!(this===ObjectProto&&has(AllSymbols,e)&&!has(OPSymbols,e))&&(!(t||!has(this,e)||!has(AllSymbols,e)||has(this,HIDDEN)&&this[HIDDEN][e])||t)},$getOwnPropertyDescriptor=function(e,t){if(e=toIObject(e),t=toPrimitive(t,!0),e!==ObjectProto||!has(AllSymbols,t)||has(OPSymbols,t)){var r=gOPD(e,t);return!r||!has(AllSymbols,t)||has(e,HIDDEN)&&e[HIDDEN][t]||(r.enumerable=!0),r}},$getOwnPropertyNames=function(e){for(var t,r=gOPN(toIObject(e)),n=[],o=0;r.length>o;)has(AllSymbols,t=r[o++])||t==HIDDEN||t==META||n.push(t);return n},$getOwnPropertySymbols=function(e){for(var t,r=e===ObjectProto,n=gOPN(r?OPSymbols:toIObject(e)),o=[],i=0;n.length>i;)!has(AllSymbols,t=n[i++])||r&&!has(ObjectProto,t)||o.push(AllSymbols[t]);return o};USE_NATIVE$1||(redefine(($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var e=uid(arguments.length>0?arguments[0]:void 0);return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,e,{configurable:!0,set:function t(r){this===ObjectProto&&t.call(OPSymbols,r),has(this,HIDDEN)&&has(this[HIDDEN],e)&&(this[HIDDEN][e]=!1),setSymbolDesc(this,e,createDesc(1,r))}}),wrap(e)})[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames,require("./_object-pie").f=$propertyIsEnumerable,require("./_object-gops").f=$getOwnPropertySymbols,DESCRIPTORS&&!require("./_library")&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(e){return wrap(wks(e))}),$export$4($export$4.G+$export$4.W+$export$4.F*!USE_NATIVE$1,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);if($export$4($export$4.S+$export$4.F*!USE_NATIVE$1,"Symbol",{for:function(e){return has(SymbolRegistry,e+="")?SymbolRegistry[e]:SymbolRegistry[e]=$Symbol(e)},keyFor:function(e){if(!isSymbol(e))throw TypeError(e+" is not a symbol!");for(var t in SymbolRegistry)if(SymbolRegistry[t]===e)return t},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export$4($export$4.S+$export$4.F*!USE_NATIVE$1,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols}),$JSON&&$export$4($export$4.S+$export$4.F*(!USE_NATIVE$1||$fails(function(){var e=$Symbol();return"[null]"!=_stringify([e])||"{}"!=_stringify({a:e})||"{}"!=_stringify(Object(e))})),"JSON",{stringify:function(e){for(var t,r,n=[e],o=1;arguments.length>o;)n.push(arguments[o++]);if(r=t=n[1],(isObject$1(t)||void 0!==e)&&!isSymbol(e))return isArray(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!isSymbol(t))return t}),n[1]=t,_stringify.apply($JSON,n)}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||require("./_hide")($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global$1.JSON,"JSON",!0),function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag",u="object"===("undefined"==typeof module?"undefined":_typeof(module)),c=e.regeneratorRuntime;if(c)u&&(module.exports=c);else{(c=e.regeneratorRuntime=u?module.exports:{}).wrap=b;var l="suspendedStart",d="suspendedYield",f="executing",p="completed",h={},v={};v[i]=function(){return this};var m=Object.getPrototypeOf,y=m&&m(m(j([])));y&&y!==r&&n.call(y,i)&&(v=y);var g=_.prototype=E.prototype=Object.create(v);S.prototype=g.constructor=_,_.constructor=S,_[s]=S.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(g),e},c.awrap=function(e){return{__await:e}},x(P.prototype),P.prototype[a]=function(){return this},c.AsyncIterator=P,c.async=function(e,t,r,n){var o=new P(b(e,t,r,n));return c.isGeneratorFunction(t)?o:o.next().then(function(e){return e.done?e.value:o.next()})},x(g),g[s]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},c.values=j,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}}}function b(e,t,r,n){var o=t&&t.prototype instanceof E?t:E,i=Object.create(o.prototype),a=new O(n||[]);return i._invoke=function(e,t,r){var n=l;return function(o,i){if(n===f)throw new Error("Generator is already running");if(n===p){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=k(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===l)throw n=p,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=f;var u=w(e,t,r);if("normal"===u.type){if(n=r.done?p:d,u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n=p,r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function w(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function E(){}function S(){}function _(){}function x(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function P(e){var t;this._invoke=function(r,o){function i(){return new Promise(function(t,i){!function t(r,o,i,a){var s=w(e[r],e,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===_typeof(c)&&n.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,i,a)},function(e){t("throw",e,i,a)}):Promise.resolve(c).then(function(e){u.value=e,i(u)},a)}a(s.arg)}(r,o,t,i)})}return t=t?t.then(i,i):i()}}function k(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=w(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function $(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}function j(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:T}}function T(){return{value:t,done:!0}}}(function(){return this}()||Function("return this")()),"function"!=typeof window.CustomEvent){function CustomEvent$1(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var r=document.createEvent("CustomEvent");return r.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r}CustomEvent$1.prototype=window.Event.prototype,window.CustomEvent=CustomEvent$1}Element.prototype.hasOwnProperty("remove")||Object.defineProperty(Element.prototype,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}});var testEl=document.createElement("div");if(testEl.classList.toggle("testClass",!1),testEl.classList.contains("testClass")){var original=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return void 0===t?original.call(this,e):(t?this.add(e):this.remove(e),this.contains(e))}}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t&&1===t.nodeType);return null}),window.fetch||(window.fetch=function(){return Promise.reject("unsupported")}),window.requestIdleCallback||(window.requestIdleCallback=function(e){var t=performance.now(),r=e.bind(null,{didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-t))}});return window.setTimeout(r,1)},window.cancelIdleCallback=function(e){return window.clearTimeout(e)}),navigator.sendBeacon||(navigator.sendBeacon=function(e,t){return new Promise(function(r,n){var o=new XMLHttpRequest;o.open("POST",e,!0),o.onerror=n,o.onload=r,o.send(t)})});var dummy,arrowKeys=["Left","Right","Up","Down"];function arrowFromEvent(e){return e.key?e.key.startsWith("Arrow")?e.key:-1===arrowKeys.indexOf(e.key)?null:"Arrow"+e.key:null}function isKeyboardClick(e){return!(e instanceof MouseEvent)||(0===e.screenX&&0===e.detail||0===e.webkitForce)}function copyText(e){dummy||((dummy=document.createElement("input")).style.position="fixed",dummy.style.opacity=0,document.body.appendChild(dummy)),dummy.value=e;try{dummy.hidden=!1,dummy.focus(),dummy.selectionStart=0,dummy.selectionEnd=dummy.value.length,document.execCommand("copy")}catch(e){return!1}finally{dummy.hidden=!0}return!0}var all=Array.from(input.querySelectorAll("button")),handler=function(e){var t=e.detail.trim(),r=Boolean(t);all.forEach(function(e){return e.disabled=!r})};typer.addEventListener("value",handler),handler({detail:typer.value});var buttonTextShow=500;function notifyParentCopy(){window.parent&&window.parent.postMessage("copy","*")}function cacheFor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4e3,r={},n=0;return function(o){var i=r[o];return void 0===i&&(r[o]=i=e(o),++n>t&&(r={},n=0)),i}}function jsdecode(e){for(var t=e.length,r=[],n=0;n<t;){var o=e.charCodeAt(n++)||0;if(o<55296||o>56319||n===t);else{var i=e.charCodeAt(n)||0;if(56320==(64512&i)){++n,r.push(65536+(1023&i)+((1023&o)<<10));continue}}r.push(o)}return r}!function(e,t){var r,n=e.textContent,o=!1;function i(){o&&(document.activeElement===e&&t.focus(),o=!1)}t.addEventListener("keydown",function(t){o||"Enter"!==t.key||t.repeat||(e.click(),e.focus(),o=!0,t.preventDefault())}),document.body.addEventListener("keyup",function(e){"Enter"===e.key&&i()}),e.addEventListener("click",function(a){a.preventDefault(),o||a.repeat||(!function(){var o=t.dataset.copy.trim().replace(/\s+/," ");if(!copyText(o))return console.warn("could not copy",o),!0;console.info("copied",o),ga("send","event","text","copy"),e.textContent=e.dataset.copied,e.classList.add("copied"),window.clearTimeout(r),r=window.setTimeout(function(t){e.textContent=n,e.classList.remove("copied"),i(),notifyParentCopy()},buttonTextShow)}(),isKeyboardClick(a)&&e.focus())})}(copy,typer);var _marked=regeneratorRuntime.mark(iterateEmoji),_marked2=regeneratorRuntime.mark(_iterateEmoji),runeZWJ=8205,runeCap=8419,runeVS16=65039,runeTagCancel=917631;function isSkinTone(e){return e>=127995&&e<=127999}function isFlagPoint(e){return e>=127462&&e<=127487}function isTag(e){return e>=917536&&e<917631}var skippable=[runeVS16,runeCap,runeTagCancel];function emojiPointCount(e){return _emojiPointCount(jsdecode(e))}function _emojiPointCount(e){for(var t=0,r=e.length,n=0;n<r;++n){var o=e[n];o===runeZWJ?t-=2:-1!==skippable.indexOf(o)||isTag(o)||isSkinTone(o)||(isFlagPoint(o)&&e[n+1]!==runeVS16?++t:t+=2)}return 0===e.length?0:t<=2?1:t+1>>1}function iterateEmoji(e){var t;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=jsdecode(e),r.delegateYield(_iterateEmoji(t),"t0",2);case 2:case"end":return r.stop()}},_marked,this)}function _iterateEmoji(e){var t,r,n,o,i,a,s,u,c;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:r=[t={flag:!1,v:[]}],n=function(e){t.flag!==e&&(t={flag:e,v:[]},r.push(t))},o=e.length,i=0;case 5:if(!(i<o)){l.next=18;break}isFlagPoint(a=e[i])&&e[i+1]!==runeVS16?(n(!0),t.v.push(a)):-1!==skippable.indexOf(a)||isTag(a)||isSkinTone(a)||a===runeZWJ?(n(!1),t.v.push(a)):-1!==(s=t.v.length-1)&&t.v[s]!==runeZWJ?(t={flag:!1,v:[a]},r.push(t)):t.v.push(a);case 8:if(!(r.length>1)){l.next=15;break}if(!(u=r.shift()).v.length){l.next=13;break}return l.next=13,u.v;case 13:l.next=8;break;case 15:++i,l.next=5;break;case 18:if(!(c=r[0]).v.length){l.next=22;break}return l.next=22,c.v;case 22:case"end":return l.stop()}},_marked2,this)}var fixedWidthEmoji=Boolean(/Mac|iP(hone|od|ad)/.exec(navigator.platform))||Boolean(/Android/.exec(navigator.userAgent))||!1,needsManWomanHack=Boolean(/Win/.exec(navigator.platform)),letterSpacing=1024,fontSize=100,hider=document.createElement("div");hider.style.overflow="hidden",hider.style.width="0px",hider.style.position="absolute",hider.setAttribute("href","https://github.com/samthor/ok-emoji");var measurer=document.createElement("div");function measure(){hider.getBoundingClientRect();return{width:measurer.offsetWidth,height:hider.offsetHeight}}measurer.style.display="inline-block",measurer.style.whiteSpace="nowrap",measurer.style.fontSize="".concat(fontSize,"px"),measurer.style.lineHeight="normal",measurer.style.fontFamily="sans-serif",hider.appendChild(measurer),document.body.appendChild(hider),measurer.textContent="ó¿¿½";var invalidBoxSize=measure();measurer.textContent="ðŸ˜‚";var validEmojiSize=measure();measurer.style.letterSpacing="".concat(letterSpacing,"px");var fixedWidthMeasure=function(){if(!fixedWidthEmoji)return null;var e=document.createElement("canvas").getContext("2d");e.font="".concat(10.5,"px monospace");var t=e.measureText("ðŸ˜‚").width;return function(r){return e.measureText(r).width/t}}();function countRenderPoints(e){return measurer.textContent=e,Math.round(measurer.offsetWidth/(letterSpacing+fontSize))}var countExtraAllowed=needsManWomanHack?function(e){for(var t=0,r=-1;-1!==(r=e.indexOf("â€\ud83d",r+1));){var n=e.charCodeAt(r+2);56424!==n&&56425!==n||++t}return t}:function(){return 0},isSingleValidEmoji=fixedWidthEmoji?function(e){return 1===fixedWidthMeasure(e)}:function(e){measurer.textContent=e;var t=measure(),r=1+countExtraAllowed(e);return!(Math.round(t.width/(letterSpacing+fontSize))>r)&&validEmojiSize.height===t.height&&invalidBoxSize.width!==t.width-letterSpacing},isExpectedLength=fixedWidthEmoji?function(e){var t=fixedWidthMeasure(e),r=emojiPointCount(e);return~~t===t&&t<=r}:function(e){if(measurer.textContent=e,hider.offsetHeight!==validEmojiSize.height)return!1;var t=jsdecode(e),r=_emojiPointCount(t)+countExtraAllowed(e);if(countRenderPoints(e)>r)return!1;var n=!0,o=!1,i=void 0;try{for(var a,s=_iterateEmoji(t)[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value;if(null===u)return!1;if(isFlagPoint(u[0])){if(u[1]===runeVS16)continue;if(u.length%2)return!1;for(var c=0;c<u.length;c+=2){var l=String.fromCodePoint(u[c],u[c+1]);if(!isSingleValidEmoji(l))return!1}}else{var d=String.fromCodePoint.apply(String,_toConsumableArray(u));if(!isSingleValidEmoji(d))return!1}}}catch(e){o=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(o)throw i}}return!0},_marked$1=regeneratorRuntime.mark(reverseParts),isSingle=cacheFor(isSingleValidEmoji),basicDiversity=isSingle("ðŸ‘¨ðŸ»"),skipDiversityList=[129309,128106,129340,128107,128108,128109];function skipDiversity(e){return-1!==skipDiversityList.indexOf(e)}function isPointGender(e){return 9792===e||9794===e}function isPersonGender(e){return 128104===e||128105===e}function isFamilyMember(e){return 128118===e||128102===e||128103===e}var genderFlip=function(){for(var e=[128104,128105,0,129334,127877,0,128131,128378,0,128112,129333,0,128103,128102,129490,128117,128116,129491,128109,128108,128107,128120,129332,0],t=new Map,r=0;r<e.length;r+=3)for(var n={points:{f:e[r],m:e[r+1],n:e[r+2]}},o=0;o<3;++o){var i=e[r+o];if(i){if(t.has(i))throw new Error("duplicate in gender list: "+i);t.set(i,n)}}return function(e){var r=t.get(e)||null;return r&&void 0===r.single&&(r.single=isSingle(String.fromCodePoint(r.points.f))&&isSingle(String.fromCodePoint(r.points.m)),r.neutral=!!r.points.n&&isSingle(String.fromCodePoint(r.points.n))),r}}();function reverseParts(e){var t,r,n,o,i;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=-1;case 1:if(r=e.lastIndexOf(runeZWJ,t),n=r+1,o=-1===t?e.length:t+1,t=r-1,0!==e.slice(n,o).length){a.next=8;break}return a.abrupt("continue",11);case 8:return i={part:e.slice(n,o),trailer:0!==n},a.next=11,i;case 11:if(-2!==t){a.next=1;break}case 12:case"end":return a.stop()}},_marked$1,this)}function splitPoints(e){for(var t=0,r=[];;){var n=e.indexOf(runeZWJ,t),o=-1===n?e.length:n,i=e.slice(t,o);if(0!==i.length&&r.push(i),-1===n)break;t=n+1}return r}function modify(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r={tone:!1,gender:{single:!1,double:!1,neutral:!1}},n=void 0!==t?[]:null,o=!0,i=!1,a=void 0;try{e:for(var s,u=iterateEmoji(e)[Symbol.iterator]();!(o=(s=u.next()).done);o=!0){var c=s.value;n&&n.push(c);var l=0,d=!1,f=!0,p=!1,h=void 0;try{for(var v,m=reverseParts(c)[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var y=v.value,g=y.part,b=y.trailer;if(void 0===t&&(r.tone||!basicDiversity)&&r.gender.neutral&&r.gender.single&&r.gender.double)break e;var w=g[0];if(!isFlagPoint(w)){var E=isFamilyMember(w);b&&E&&(d=!0);var S=isPersonGender(w);if(E||S)r.tone=!d&&basicDiversity,r.gender.single=!0,S&&++l>=2&&(r.gender.double=!0);else if(!d){var _=genderFlip(w);if(null!==_&&(r.gender.single|=_.single,r.gender.neutral|=_.neutral),basicDiversity&&!r.tone&&!b&&!skipDiversity(w)){var x=String.fromCodePoint(w,127995);r.tone=isSingle(x)}if(!r.gender.neutral){var P=String.fromCodePoint(w,runeZWJ,9792,runeVS16),k=isSingle(P);r.gender.neutral=k,r.gender.single=r.gender.single||k}}}}}catch(e){p=!0,h=e}finally{try{f||null==m.return||m.return()}finally{if(p)throw h}}}}catch(e){i=!0,a=e}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}if(void 0===t)return r;(void 0!==t.tone&&r.tone&&n.forEach(function(e){if(isSkinTone(e[1]))if(t.tone)e[1]=t.tone;else{var r=String.fromCodePoint(e[0]);isSingle(r)?e.splice(1,1):e[1]=runeVS16}else if(t.tone){if(!skipDiversity(e[0])){var n=String.fromCodePoint.apply(String,[e[0],t.tone].concat(_toConsumableArray(e.slice(1))));isSingle(n)&&e.splice(1,0,t.tone)}}else{var o=e.filter(function(e){return!isSkinTone(e)});e.splice.apply(e,[0,e.length].concat(_toConsumableArray(o)))}}),void 0!==t.gender)&&n.map(function(e){return splitPoints(e)}).map(function(e,r){if(isPointGender(e[e.length-1][0])){if(!t.gender)return e.pop(),e}else{for(var o=[],i=!1,a=0;a<e.length;++a){var s=e[a],u=s[0],c=genderFlip(u);if(c){var l=(o=o.length?o:t.gender.split("")).shift();if(i&&(!l||isFamilyMember(u)))break;!l&&c.neutral?s[0]=c.points.n:l&&c.single&&(s[0]="m"===l?c.points.m:c.points.f),i=!0}else if(0===a)break}if(i)return e;if(!t.gender)return null;var d=n[r].slice();d.push(runeZWJ,9792,runeVS16);var f=String.fromCodePoint.apply(String,_toConsumableArray(d));if(!isSingle(f))return null;e.push([9792,runeVS16])}return e[e.length-1][0]="m"===t.gender[0]?9794:9792,e}).forEach(function(e,t){if(null!==e){var r=[];e.forEach(function(e){r.push.apply(r,_toConsumableArray(e).concat([runeZWJ]))}),r.pop(),n[t]=r}});return r.out=n.map(function(e){return String.fromCodePoint.apply(String,_toConsumableArray(e))}).join(""),r}function letterAt(e,t){var r=e.charCodeAt(t);return e.charCodeAt(t+1)!==runeVS16&&(r<5e3&&r>32)}function match(e,t){var r=t,n=t;if(""===e.substr(t).trim()||!letterAt(e,t)){for(;n>0&&!(e.charCodeAt(n-1)>32);--n);n<r&&(r=n)}for(;r>0&&letterAt(e,r-1);--r);for(;n<e.length&&letterAt(e,n);++n);return r>n&&(r=n),{from:r,to:n}}function datasetSafeDelete(e){for(var t=e.dataset,r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach(function(e){e in t&&delete t[e]})}var upgraded=new WeakMap;function cursorPosition(e){var t=upgraded.get(e);if(void 0!==t)return t()}function upgrade(e){if(upgraded.has(e))return!1;var t={from:e.selectionStart,to:e.selectionEnd},r=document.createElement("div");r.className="overflow-helper",e.parentNode.insertBefore(r,e);var n=document.createElement("div");n.className="underline",r.appendChild(n);var o=null,i=document.createElement("div");i.className="autocomplete sizer",r.appendChild(i);var a=function(){var e=document.createElement("div");e.className="sizer",r.appendChild(e);var t=document.createElement("div");return t.className="nonce",function(r){return e.textContent=r,e.appendChild(t),t.offsetLeft}}();upgraded.set(e,function(){var t=~~((e.selectionStart+e.selectionEnd)/2);return a(e.value.substr(0,t))-e.scrollLeft}),"complete"!==document.readyState&&(n.classList.add("loading"),window.addEventListener("load",function(e){d(),n.classList.remove("loading")}));var s,u,c,l,d=function(){if(t.from>=t.to)return n.hidden=!0,!1;var r=t.from,o=t.to,s=a(e.value.substr(0,r)),u=a(e.value.substr(r,o-r));u<0&&!document.getElementById("less")&&console.warn("invalid sizer width",u,"for text",sizer.textContent),n.hidden=u<=0,n.style.left=s+"px",n.style.width=u+"px",n.style.transform="translateX(".concat(-e.scrollLeft,"px)"),i.style.transform="translateX(".concat(-e.scrollLeft+s+u,"px)")},f=function(r,o){return t.from=r,t.to=Math.max(r,o),r>=o?(datasetSafeDelete(e,"prefix","word","focus"),n.hidden=!0,!1):(e.dataset.focus=e.value.substr(r,o-r),d(),!0)},p=e.value.length,h={start:p,end:p,value:void 0},v={},m=0,y=function(r,a){r.has("select-all")?e.setSelectionRange(0,e.value.length):r.has("select-end")?e.setSelectionRange(e.value.length,e.value.length):!r.has("focus")||r.has("mousedown")||r.has("touchstart")||e.setSelectionRange(h.start,h.end),(r.has("blur")||r.has("focus"))&&(e.scrollLeft=m),m=e.scrollLeft;var s=function(t){if(!1!==t&&e.selectionStart===h.start&&e.selectionEnd===h.end&&e.value===h.value)return!0;var r=[e.selectionStart,e.selectionEnd];if(h.start=r[0],h.end=r[1],h.value!==e.value&&(e.dispatchEvent(new CustomEvent("value",{detail:e.value})),h.value=e.value),h.start!==h.end)return datasetSafeDelete(e,"prefix","word"),f(h.start,h.end),n.classList.add("range"),e.classList.add("range"),!1;n.classList.remove("range"),e.classList.remove("range");var o=match(e.value,h.start),i=o.from,a=o.to;return!(i>=a&&t||(f(i,a)&&(e.dataset.focus=e.dataset.prefix=e.value.substr(i,a-i).toLowerCase(),datasetSafeDelete(e,"word")),1))}(a);if(function(){var r=e.dataset.prefix||"";if(null===o||0===r.length||"^"!==o.name[0]&&o.name.substr(0,r.length)!==r||0!==e.value.substr(t.to).trim().length)return i.textContent="",!1;var n=("^"===o.name[0]?"":o.name.substr(r.length))+o.emoji;return i.textContent=n,!0}()||(o=null),e.selectionStart!==e.selectionEnd?e.dataset.copy=e.value.substr(e.selectionStart,e.selectionEnd-e.selectionStart):e.dataset.copy=null!==o?e.value.substr(0,t.from)+e.value.substr(t.to)+o.emoji:e.value,!s){var u={text:e.dataset.focus?e.dataset.prefix||e.dataset.word||null:"",prefix:"prefix"in e.dataset,focus:e.dataset.focus,selection:e.selectionStart!==e.selectionEnd};u.text===v.text&&u.prefix===v.prefix&&u.focus===v.focus&&u.selection===v.selection||(v=u,e.dispatchEvent(new CustomEvent("query",{detail:u})))}},g=!1;function b(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e.selectionEnd<t.to)return!1;var n=e.dataset.prefix||"";if(0===n.length||!o||!o.name.startsWith(n))return!1;var i=e.value.substr(t.to),a=i.substr(0,e.selectionStart-t.to);if(0!==a.trim().length)return!1;if(r&&!a.length)return!1;if(0!==i.trim().length&&o.name!==n)return!1;ga("send","event","options","typing");var s={choice:o.emoji,word:o.name};return typer.dispatchEvent(new CustomEvent("emoji",{detail:s})),!0}c=new Set,l=function(e){u||(s=void 0,c.clear(),u=window.requestAnimationFrame(function(){u=null,y(c,s)})),e&&c.add(e.type)},"change keydown keypress focus click mousedown touchstart select input select-all select-end blur".split(/\s+/).forEach(function(t){return e.addEventListener(t,l)}),l(),e.addEventListener("suggest",function(e){o=e.detail,g&&b(),l()}),e.addEventListener("mousemove",function(e){e.which&&l()}),document.addEventListener("selectionchange",function(t){document.activeElement===e&&l()}),e.addEventListener("keydown",function(e){switch(g=!1,e.key){case"Escape":s=!1;break;case"ArrowDown":case"Down":case"ArrowUp":case"Up":return void e.preventDefault();case" ":var t=b();e.shiftKey&&e.preventDefault(),t||(g=!0)}}),e.addEventListener("keyup",function(e){229!==e.keyCode&&e.keyCode||b(!0)}),function(){var t,r=function(){t||(t=window.requestAnimationFrame(function(){t=null,d()}))};window.addEventListener("resize",r),e.addEventListener("wheel",r,{passive:!0})}();var w=function(r){var n=e.scrollLeft,o=t.from,i=t.to,a=e.value.substr(o,i-o),u=[typer.selectionStart,typer.selectionEnd],c=u[0],l=u[1],d=typer.selectionDirection,p=r(a);if(null==p)return!1;var v=document.activeElement;typer.focus(),typer.selectionStart=o,typer.selectionEnd=i;var m=typer.value.substr(0,o)+p+typer.value.substr(i);document.execCommand("insertText",!1,p)&&typer.value===m||(typer.value=typer.value.substr(0,o)+p+typer.value.substr(i)),typer.dispatchEvent(new CustomEvent("change"));var y=function(e){return e>=i?e=e-(i-o)+p.length:e>o&&(e=o+p.length),e},g=[y(c),y(l)];return h.start=g[0],h.end=g[1],typer.setSelectionRange(h.start,h.end,d),v&&v.focus(),s=!0,e.scrollLeft=n,f(o,o+p.length),!0};e.addEventListener("modifier",function(e){var t=_defineProperty({},e.detail.type,e.detail.code);w(function(e){return modify(e,t).out})}),e.addEventListener("emoji",function(t){var r=t.detail.choice;w(function(){return r})&&(e.dataset.word=t.detail.word||"",datasetSafeDelete(e,"prefix"))})}function build(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n={},o={};return e.forEach(function(e){var i=e[0];o[i]=e.slice(1);for(var a=i.substr(0,t),s=1;s<=a.length;++s){var u=a.substr(0,s),c=n[u];c||(c=n[u]=[]),c.length<r&&c.push(i)}}),function(e,r){var i=(e=e.toLowerCase()).substr(t),a=n[e.substr(0,t)]||[];return i&&(a=a.filter(function(e){return e.substr(t).startsWith(i)})),r||(a=a.filter(function(t){return t===e})),(a=a.map(function(e){return[e].concat(_toConsumableArray(o[e]))})).length?a:[]}}function idle(){return new Promise(function(e){return window.requestIdleCallback(e)})}function rAF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return void 0!==e?new Promise(function(t){window.setTimeout(function(){return window.requestAnimationFrame(t)},e)}):new Promise(function(e){return window.requestAnimationFrame(e)})}function microtask$1(){return Promise.resolve()}function delay(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise(function(t){return window.setTimeout(t,e)})}upgrade(typer);var debouceMap=new Map;function debounce(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=debouceMap.get(e);if(!r){r={c:e};var n=new Promise(function(e){return r.r=e});r.p=n.then(function(){return debouceMap.delete(e),r.c()}),debouceMap.set(e,r)}return window.clearTimeout(r.t),r.t=window.setTimeout(r.r,Math.max(0,t)),r.p}function removeDuplicates(e){var t=new Set;return e.filter(function(e,r){if(0!==r){if(t.has(e))return!1;t.add(e)}return!0})}function merge(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.length)return[];var n={},o=t.shift();return o.forEach(function(e,t){return n[e[0]]=t}),t.forEach(function(e){e.forEach(function(e){var t=n[e[0]];if(void 0===t)return n[e[0]]=o.length,void o.push(e);var r=o[t],i=e.slice(1);o[t]=removeDuplicates(r.concat(i))})}),o}var results=Object.freeze({merge:merge}),options={abcd:[128289],abc:[128292],ab:[127374],a:[127344,65039],atm:[127975],cool:[127378],free:[127379],id:[127380],i:[8505,65039],m:[9410,65039],ok:[127383],o:[127358,65039],p:[127359,65039],sos:[127384],up:[127385],vs:[127386],"!!":[8252,65039],"!?":[8265,65039],"!":[10071],"?":[10067],$:[128178],"Â£":[128183],"â‚¬":[128182],"Â¥":[128180],new:[127381],ng:[127382],zzz:[128164],1234:[128290],cl:[127377],b:[127345,65039],wc:[128702],100:[128175],10:[128287],"*":[42,65039,8419],"#":[35,65039,8419],"<":[9664,65039],">":[9654,65039],"^":[128316],"+":[10133],"-":[10134],x:[10062],"~":[12336,65039],".":[9210,65039]},keys=Object.keys(options);keys.sort(function(e,t){return e.length!==t.length?t.length-e.length:e<t?-1:e>t?1:0});var matchPrefix=function(e){for(var t=0;t<keys.length;t++){var r=keys[t];if(e.startsWith(r))return{length:r.length,points:options[r]}}return e[0]>="a"&&e[0]<="z"?{length:1,points:[e.codePointAt(0)-97+127462,65039]}:e[0]>="0"&&e[0]<="9"?{length:1,points:[e.codePointAt(0)-48+48,65039,8419]}:null};function type(e){for(var t=e.toLowerCase(),r=[];t.length;){var n=matchPrefix(t);if(null===n)return null;r.push.apply(r,_toConsumableArray(n.points)),t=t.substr(n.length)}return String.fromCodePoint.apply(String,r)}var api="https://emojibuff.appspot.com/api",recentLimit=16,selectionDelay=5e3;function loaderFor(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=window.localStorage[e];if(o){var i;try{i=JSON.parse(o)}catch(t){console.debug("couldn't parse localStorage",e,t),i=null}if(i&&i.results&&(t=Promise.resolve(i.results),i.created>=+new Date-36e5*r))return function(){return t}}var a=new Promise(function(t,r){var n=new XMLHttpRequest;n.open("GET","".concat(api,"/").concat(e)),n.onerror=r,n.responseType="json",n.onload=function(){return t(n.response)},n.send()}).then(function(e){return"string"==typeof e?JSON.parse(e):e}).then(function(r){return t=a,r.created=+new Date,window.localStorage[e]=JSON.stringify(r),r.results});return t?function(){return t}:(n(!0),a.then(function(){return n(!1)}),function(){return a})}var getPrefixGen=function(){var e=loaderFor("popular",24,function(e){window.loader.hidden=!e});return function(){return e().then(function(e){return build(e)})}}(),getTrendingEmoji=function(){var e=loaderFor("hot",1);return function(){return e().then(function(e){var t=[];return e.forEach(function(e){t=t.concat(e.slice(1))}),t})}}();function request(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e){if(r&&""===e){var n=recent();return n.unshift("^recent"),getTrendingEmoji().then(function(e){return e.unshift("^trending"),[n,e]})}return Promise.resolve([])}var o=[getPrefixGen().then(function(r){return r(e,t)})];if(r){var i="".concat(api,"/q?q=").concat(window.encodeURIComponent(e));t||(i+="&exact");var a=window.fetch(i).then(function(e){return e.json()}).then(function(e){return e.results});o.push(a)}var s=type(e);return s&&o.push([["^type",s]]),Promise.all(o).then(function(e){return merge.apply(results,_toConsumableArray(e))})}var select=function(){var e={},t=function(){var t=JSON.stringify(e);return e={},navigator.sendBeacon(api+"/sel",t)};return function(r,n){if("^"!==r[0]){var o=recent(),i=o.indexOf(n);return-1!==i&&o.splice(i,1),o.unshift(n),o.splice(recentLimit),window.localStorage.recent=o.join(","),e[r]=n,debounce(t,selectionDelay)}}}();function submit(e,t){var r=new FormData;return r.append("name",e),r.append("emoji",t),window.fetch(api+"/name",{method:"POST",mode:"cors",body:r})}function recent(){return(window.localStorage.recent||"").split(",").filter(function(e){return e})}var allowedWorkTime=4,maximumTaskFrame=100,Worker=function(){function e(t){_classCallCheck(this,e),this.fn_=t,this.queue_=[],this.waiting_=null,this.runner_().catch(function(e){throw console.info("worker runner failed",e),e})}return _createClass(e,[{key:"runner_",value:function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return t.waiting_=e});case 2:return this.waiting_=null,e.next=5,idle();case 5:if(!this.chunk_()){e.next=7;break}return e.abrupt("return",this.runner_());case 7:return e.next=9,rAF();case 9:e.next=5;break;case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"chunk_",value:function(){for(var e=window.performance.now(),t=0;this.queue_.length;){var r=this.queue_.shift();if(r.resolve(this.fn_(r.arg)),++t==maximumTaskFrame||window.performance.now()-e>allowedWorkTime)break}return!this.queue_.length}},{key:"task",value:function(e){var t=this;return new Promise(function(r){t.queue_.push({resolve:r,arg:e}),t.waiting_&&t.waiting_()})}}]),e}(),dummyString="a",prefix="-ok_",ls=window.localStorage,known=new Map,ignoreValid=-1!==window.location.search.indexOf("ignore_valid");function runner(e){if(8203===e.charCodeAt(0))return!0;var t=isExpectedLength(e);return known.set(e,t),t&&(ls[prefix+e]=dummyString),t}var worker=new Worker(runner),task$1=ignoreValid?function(){return!0}:worker.task.bind(worker);function immediate(e){var t=known.get(e);return void 0!==t?t:ls[prefix+e]===dummyString||void 0}function valid(e){return _valid.apply(this,arguments)}function _valid(){return(_valid=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(r=immediate(t))){e.next=3;break}return e.abrupt("return",r);case 3:return e.abrupt("return",task$1(t));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function findValidMatch(e,t){return _findValidMatch.apply(this,arguments)}function _findValidMatch(){return(_findValidMatch=_asyncToGenerator(regeneratorRuntime.mark(function e(t,r){var n,o,i,a,s,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=!1,o=0;case 2:if(!(o<t.length)){e.next=21;break}i=t[o],a=1;case 5:if(!(a<i.length)){e.next=18;break}if(s=i[a],void 0!==(u=immediate(s))){e.next=13;break}return n||(r(null),n=!0),e.next=12,task$1(s);case 12:u=e.sent;case 13:if(!u){e.next=15;break}return e.abrupt("return",r({name:i[0],emoji:s}));case 15:++a,e.next=5;break;case 18:++o,e.next=2;break;case 21:n||r(null);case 22:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var ButtonManager=function(){function e(t){var r=this;_classCallCheck(this,e),this.holder_=t,this.options_=new Map,this.buttons_=new Map,this.buttonTarget_=new WeakMap,this.buttonPool_=[],window.requestIdleCallback(function(){for(var e=0;e<10;++e)r.buttonPool_.push(document.createElement("button"))});var n=document.createElement("div");this.holder_.appendChild(n),this.setModifier=function(){var t=e.optionType_("modifier","gender"),r=e.optionType_("modifier","tone");n.appendChild(t),n.appendChild(r);for(var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=document.createElement("button");return r.textContent=e,r.dataset.value=t,r},i=[o("âš¬",""),o("â™€","f"),o("â™€â™‚","fm"),o("â™‚","m"),o("â™‚â™€","mf")],a=[o("â€”","")],s=127995;s<=127999;++s)a.push(o(String.fromCodePoint(s),s));var u=function(e,t,r){e?r.appendChild(t):t.remove()};return function(e){var o=n.contains(document.activeElement)?document.activeElement:null;i.forEach(function(r){var n=r.dataset.value.length,o=!n&&e.gender.neutral||1===n&&e.gender.single||2===n&&e.gender.double;u(o,r,t)}),a.forEach(function(t){return u(e.tone,t,r)}),n.insertBefore(t,t.nextSibling),n.insertBefore(r,r.nextSibling),o&&o.focus()}}()}return _createClass(e,[{key:"optionForName_",value:function(e){var t=this.options_.get(e);if(t)return t;var r=document.createElement("div");return r.className="options",r.setAttribute("data-option",e),"^"===e[0]&&(r.classList.add("special"),e=e.substr(1)),r.setAttribute("data-name",e),r}},{key:"addEmojiTo_",value:function(e,t){var r=this,n=this.buttons_.get(t);if(n){var o=this.buttonTarget_.get(n);if(null===o)return n;if(void 0===o)return e.appendChild(n),n}else(n=this.buttonPool_.pop()||document.createElement("button")).textContent=t,this.buttons_.set(t,n),valid(t).then(function(e){if(!e)return r.buttonTarget_.set(n,null);var t=r.buttonTarget_.get(n);t&&(t.parentNode.replaceChild(n,t),r.buttonTarget_.delete(n))});var i=document.createTextNode("");return this.buttonTarget_.set(n,i),e.appendChild(i),n}},{key:"update",value:function(e){var t=this,r=new Map,n=new Map,o=this.holder_.contains(document.activeElement)?document.activeElement:null;e.forEach(function(e){var o=e[0],i="^"===o[0],a=t.optionForName_(o);r.set(o,a),t.options_.delete(o),t.holder_.appendChild(a);for(var s=0;s<a.children.length;++s){var u=a.children[s],c=u.textContent;i||n.has(c)?(u.remove(),t.buttonPool_.push(u),--s):n.set(c,u)}for(var l,d=1;l=e[d];++d)n.has(l)||n.set(l,t.addEmojiTo_(a,l))}),this.options_.forEach(function(e){for(var r=0;r<e.children.length;++r)t.buttonPool_.push(e.children[r]);e.remove()}),this.options_=r,this.buttons_=n,o&&(document.body.contains(o)?o.focus():typer.focus())}}],[{key:"optionType_",value:function(e,t){var r=document.createElement("div");return r.className="options "+e,r.dataset[e]=t,r.dataset.name=t,r}}]),e}(),spaceFrame=0;chooser.addEventListener("keyup",function(e){" "===e.key&&"button"===e.target.localName&&(spaceFrame=window.setTimeout(function(){return spaceFrame=0},0))});var previousChooserLeft=void 0,duringNavigate=!1;function navigateChooserButtonVertical(e){for(var t={dist:1/0,button:null},r=document.activeElement.getBoundingClientRect(),n=void 0!==previousChooserLeft?previousChooserLeft:r.left,o=void 0,i=0;i<e.length;++i){var a=e[i],s=a.getBoundingClientRect();if(r.top!==s.top){if(void 0===o)o=s.top;else if(s.top!==o)break;var u=Math.abs(s.left-n);if(u<t.dist){var c=[u,a];t.dist=c[0],t.button=c[1]}}}if(!t.button)return!1;duringNavigate=!0;try{t.button.focus()}finally{duringNavigate=!1}return!0}chooser.addEventListener("focus",function(e){duringNavigate||(previousChooserLeft=document.activeElement.getBoundingClientRect().left)},!0),chooser.addEventListener("click",function(e){previousChooserLeft=void 0;var t=isKeyboardClick(e),r=void 0,n=e.target;if("button"!==n.localName);else if(n.parentNode.dataset.modifier){if(e.shiftKey)return;var o="value"in n.dataset?+n.dataset.value||n.dataset.value:null,i={type:n.parentNode.dataset.modifier,code:o};typer.dispatchEvent(new CustomEvent("modifier",{detail:i})),r="modifier"}else if(n.parentNode.dataset.option){if(e.shiftKey){copyText(n.textContent)&&ga("send","event","options","copy");var a=document.scrollingElement.scrollTop;return t?n.focus():typer.focus(),void(document.scrollingElement.scrollTop=a)}var s=0!==spaceFrame||e.metaKey||e.ctrlKey?n.parentNode.dataset.option:null,u={choice:n.textContent,word:s};typer.dispatchEvent(new CustomEvent("emoji",{detail:u})),select(n.parentNode.dataset.option,u.choice),r="emoji"}r&&(ga("send","event","options","click",r),t||typer.focus())}),typer.addEventListener("keydown",function(e){if("ArrowDown"===e.key||"Down"===e.key){var t=typer.getBoundingClientRect();previousChooserLeft=t.left+cursorPosition(typer),navigateChooserButtonVertical(chooser.querySelectorAll("button"))&&ga("send","event","options","keyboardnav")}else if("ArrowRight"===e.key||"Right"===e.key){var r=typer.value.length;if(typer.selectionEnd===r&&typer.selectionStart===r){var n=chooser.querySelector("button");n&&n.focus()}}}),chooser.addEventListener("keydown",function(e){var t=arrowFromEvent(e);if(t&&chooser.contains(document.activeElement)){var r,n=Array.from(chooser.querySelectorAll("button")),o=n.indexOf(document.activeElement);if(-1!==o)if("ArrowLeft"===t?r=-1:"ArrowRight"===t&&(r=1),r){var i=o+r;i>=0&&i<n.length?n[i].focus():i<0&&(typer.focus(),typer.dispatchEvent(new CustomEvent("select-end")))}else{var a;if("ArrowUp"===t)(a=n.slice(0,o)).reverse();else{if("ArrowDown"!==t)return;a=n.slice(o)}if(navigateChooserButtonVertical(a)||"ArrowUp"===t&&typer.focus(),"ArrowDown"===t){var s=document.activeElement.getBoundingClientRect(),u=s.top+s.height;window.innerHeight-u>64&&e.preventDefault()}}}}),function(){var e=new ButtonManager(chooser),t={},r=performance.now(),n=[],o=0;function i(e){var t=++o;if(e){var r=null,i=n.slice().filter(function(t){return e.length>1&&t[0]===e?(r=t,!1):t[0].startsWith(e)||"^"===t[0][0]});r&&i.unshift(r);findValidMatch(i,function(e){t===o&&typer.dispatchEvent(new CustomEvent("suggest",{detail:e}))})}else typer.dispatchEvent(new CustomEvent("suggest",{detail:null}))}typer.addEventListener("query",function(o){var a=o.detail,s=performance.now(),u=modify(!o.detail.prefix&&o.detail.focus||"");e.setModifier(u),t.text!==a.text&&i(a.text);var c=t.text&&a.text&&0!==t.text.length&&t.text.startsWith(a.text.substr(0,t.text.length))||!1,l=!1;t.text&&t.prefix===a.prefix?s-r>2e3&&(l=!0):l=!0,t=a,r=s;var d=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(){var o,s,u,c=arguments;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(o=c.length>0&&void 0!==c[0]?c[0]:0,s=c.length>1&&void 0!==c[1]&&c[1],!o){r.next=7;break}return r.next=5,rAF(o);case 5:if(t===a){r.next=7;break}return r.abrupt("return",-1);case 7:return r.next=9,request(a.text,a.prefix,s);case 9:if(u=r.sent,t===a){r.next=12;break}return r.abrupt("return",-1);case 12:return n=u,i(a.text),r.abrupt("return",e.update(u));case 15:case"end":return r.stop()}},r,this)}));return function(){return r.apply(this,arguments)}}();d(l?0:250,c).then(function(e){if(e<0)return-2;if(!a.text){var t=window.innerHeight<=400?0:750;return d(t,!0)}var r=Math.max(1e3,100*Math.pow(e,.75));return d(r,!0)}).catch(function(e){console.error("error doing request",e)})})}(),function(e,t){var r=t.querySelector("form"),n=r.querySelector("input"),o=r.querySelector("button"),i="",a=null;e.addEventListener("query",function(e){var r=e.detail,o=null===r.text&&void 0!==r.focus&&r.selection;if(i=r.focus,!o)return a||(n.value="",t.hidden=!0),!1;t.hidden=!1});var s=function(e){o.disabled=!n.value};"input change".split(/\s+/).forEach(function(e){return n.addEventListener(e,s)}),r.addEventListener("submit",function(e){if(e.preventDefault(),a)return!1;r.classList.add("pending"),n.disabled=!0,o.disabled=!0;(a=submit(n.value,i).then(function(e){if(!e.ok)throw new Error(e.status);return o.classList.add("success"),!1}).catch(function(e){return o.classList.add("failure"),console.warn("failed to submit emoji",e),!0}).then(function(e){r.classList.remove("pending"),n.disabled=!1,n.value="",n.dispatchEvent(new CustomEvent("change")),a=null,i||(t.hidden=!0)})).then(function(){return delay(2e3)}).then(function(){o.className=""})})}(typer,advanced);var value=function(e){var t=e.detail.trim();document.body.classList.toggle("has-value",Boolean(t))};function isExtentNode(e){return e instanceof Element&&e.classList.contains("extent")}typer.addEventListener("value",value),value({detail:typer.value}),document.body.addEventListener("keydown",function(e){switch(e.key){case"Escape":if(document.activeElement!==typer){typer.focus();break}if(typer.selectionStart!==typer.selectionEnd){"backward"===typer.selectionDirection?typer.selectionStart=typer.selectionEnd:typer.selectionEnd=typer.selectionStart;break}var t=typer.value.length;typer.setSelectionRange(t,t)}}),document.addEventListener("selectionchange",function(e){var t=window.getSelection(),r=t.anchorNode,n=t.focusNode;r!==n&&isExtentNode(r)&&isExtentNode(n)&&(t.removeAllRanges(),typer.focus(),typer.dispatchEvent(new CustomEvent("select-all")))},!0),document.addEventListener("focusin",function(e){microtask$1().then(function(){document.activeElement===document.body&&typer.focus()})});var resize=function(e){var t=window.innerHeight;document.body.style.minHeight="".concat(t,"px")};window.addEventListener("resize",resize),window.addEventListener("load",resize),resize(),document.body.addEventListener("click",function(e){var t=e.target&&e.target.closest("a[href]");t&&ga("send","event","outbound","click",t.href)}),window.setTimeout(function(){var e=(window.localStorage.sources||"").split(",").filter(Boolean),t=/utm_source=([_\w\d]*)/.exec(window.location.search);(t&&(-1===e.indexOf(t[1])&&e.push(t[1]),window.localStorage.sources=e.join(",")),e.length||window.localStorage["dismiss-install"])||(document.querySelector("footer").addEventListener("click",function(e){e.target.classList.contains("dismiss-install")&&(ga("send","event","install","dismiss"),window.localStorage["dismiss-install"]=!0,document.body.removeAttribute("data-install"))}),document.body.dataset.install||(navigator.userAgent.match(/Chrome\//)&&navigator.platform.match(/^(Mac|Win|Linux)/)?document.body.dataset.install="ext":"undefined"==typeof Windows&&navigator.platform.startsWith("Win")&&(document.body.dataset.install="windows")))},2500),function(){var e=null;function t(){document.body.removeAttribute("data-install"),e=null}window.addEventListener("beforeinstallprompt",function(t){return ga("send","event","install","available"),document.body.dataset.install="pwa",e=t,t.preventDefault(),!1}),window.addEventListener("appinstalled",function(e){ga("send","event","install","installed"),t()}),document.getElementById("install").addEventListener("click",function(r){e&&(e.prompt(),e.userChoice&&e.userChoice.then(function(e){ga("send","event","install",e)}).catch(function(e){console.warn("beforeinstallprompt prompt",e)}).then(t))})}();var timeout,adverts=document.getElementById("adverts");function refresh(){var e=adverts.querySelector(".active"),t=e&&e.nextElementSibling||adverts.firstElementChild;t?(e&&e.classList.remove("active"),t.classList.add("active"),enqueue()):console.warn("no adverts to choose from")}function enqueue(){window.clearTimeout(timeout),timeout=window.setTimeout(function(){window.requestAnimationFrame(refresh)},1e4)}if(enqueue(),navigator.serviceWorker){navigator.serviceWorker.register("./sw.js").catch(function(e){console.warn("failed to register SW",e)});var hadInitialController=Boolean(navigator.serviceWorker.controller);navigator.serviceWorker.addEventListener("controllerchange",function(){hadInitialController&&(console.debug("got SW controllerchange, reload"),window.location.reload())})}var prevOnLine=!0;function notifyStatus(){"onLine"in navigator&&prevOnLine!==navigator.onLine&&(ga("send","event","network",navigator.onLine?"online":"offline"),prevOnLine=navigator.onLine)}notifyStatus(),window.addEventListener("online",function(){return debounce(notifyStatus)}),window.addEventListener("offline",function(){return debounce(notifyStatus)});var placeholders=["Type words, receive emoji ðŸ‘","Use your keyboard to search ðŸ”Ž","Find emoji that your heart desires â¤ï¸âŒ¨ï¸","Keyboard. Emoji. Forever ðŸ˜","Keyboard emoji since 2016 ðŸ“œ","Just tap a key to search ðŸ‘†","Type, tap enter to copy, profit ðŸ’¸","Emoji for every occasion, just type ðŸ”¡"],choice=Math.floor(Math.random()*placeholders.length);typer.placeholder=placeholders[choice],window.onerror=function(e,t,r,n,o){console.info("got err",String(e));try{ga("send","event","error","".concat(t,",").concat(r,":").concat(n),String(e),{nonInteraction:!0})}catch(e){}};

//# sourceMappingURL=support-be9e105e05.js.map